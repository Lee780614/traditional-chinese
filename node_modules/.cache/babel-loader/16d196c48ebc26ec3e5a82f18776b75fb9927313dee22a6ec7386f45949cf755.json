{"ast":null,"code":"var _jsxFileName = \"C:\\\\traditional-chinese\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Tesseract from 'tesseract.js';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [recognizedText, setRecognizedText] = useState('');\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [gridSize, setGridSize] = useState(80); // 田字格大小\n\n  // ... 保留之前的 handleImageUpload 和其他函数 ...\n\n  const generateWorksheet = () => {\n    if (!recognizedText) return;\n    const container = document.createElement('div');\n    container.style.width = '210mm'; // A4 宽度\n    container.style.padding = '20px';\n    container.style.backgroundColor = 'white';\n    const characters = recognizedText.split('').filter(char => char.trim());\n    characters.forEach(char => {\n      const grid = document.createElement('div');\n      grid.style.width = `${gridSize}px`;\n      grid.style.height = `${gridSize}px`;\n      grid.style.border = '1px solid #ccc';\n      grid.style.display = 'inline-flex';\n      grid.style.justifyContent = 'center';\n      grid.style.alignItems = 'center';\n      grid.style.margin = '5px';\n      grid.style.position = 'relative';\n\n      // 添加米字格\n      const lines = ['top: 50%; left: 0; right: 0;', 'left: 50%; top: 0; bottom: 0;', 'top: 0; left: 0; right: 0;', 'top: 0; left: 0; bottom: 0;', 'transform: rotate(45deg);', 'transform: rotate(-45deg);'];\n      lines.forEach(style => {\n        const line = document.createElement('div');\n        line.style.cssText = `\n          position: absolute;\n          border-top: 1px dashed #ddd;\n          ${style}\n        `;\n        grid.appendChild(line);\n      });\n      const charSpan = document.createElement('span');\n      charSpan.textContent = char;\n      charSpan.style.fontSize = '24px';\n      charSpan.style.color = '#999';\n      grid.appendChild(charSpan);\n      container.appendChild(grid);\n    });\n    document.body.appendChild(container);\n    html2canvas(container).then(canvas => {\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const imgData = canvas.toDataURL('image/png');\n      pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);\n      pdf.save('练字帖.pdf');\n      document.body.removeChild(container);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 py-8 px-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-center mb-8\",\n      children: \"\\u7E41\\u4F53\\u5B57\\u7EC3\\u5B57\\u5E16\\u751F\\u6210\\u5668\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto space-y-6\",\n      children: recognizedText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-2\",\n          children: \"\\u8BC6\\u522B\\u7ED3\\u679C\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"w-full h-48 p-2 border rounded\",\n          value: recognizedText,\n          onChange: e => setRecognizedText(e.target.value),\n          placeholder: \"\\u8BC6\\u522B\\u7ED3\\u679C\\u5C06\\u663E\\u793A\\u5728\\u8FD9\\u91CC...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: [\"\\u7530\\u5B57\\u683C\\u5927\\u5C0F\\uFF08\\u50CF\\u7D20\\uFF09\\uFF1A\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: gridSize,\n                onChange: e => setGridSize(Number(e.target.value)),\n                className: \"ml-2 p-1 border rounded\",\n                min: \"40\",\n                max: \"120\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleImageUpload({\n                target: {\n                  files: [document.querySelector('input[type=\"file\"]').files[0]]\n                }\n              }),\n              className: \"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\",\n              children: \"\\u91CD\\u65B0\\u8BC6\\u522B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generateWorksheet,\n              className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n              children: \"\\u751F\\u6210\\u7EC3\\u5B57\\u5E16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"UUciD1/qGcpt5vmhEg0prr/iOho=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","Tesseract","html2canvas","jsPDF","jsxDEV","_jsxDEV","App","_s","selectedImage","setSelectedImage","recognizedText","setRecognizedText","isProcessing","setIsProcessing","gridSize","setGridSize","generateWorksheet","container","document","createElement","style","width","padding","backgroundColor","characters","split","filter","char","trim","forEach","grid","height","border","display","justifyContent","alignItems","margin","position","lines","line","cssText","appendChild","charSpan","textContent","fontSize","color","body","then","canvas","pdf","imgData","toDataURL","addImage","save","removeChild","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","type","Number","min","max","onClick","handleImageUpload","files","querySelector","_c","$RefreshReg$"],"sources":["C:/traditional-chinese/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Tesseract from 'tesseract.js';\r\nimport html2canvas from 'html2canvas';\r\nimport jsPDF from 'jspdf';\r\n\r\nfunction App() {\r\n  const [selectedImage, setSelectedImage] = useState(null);\r\n  const [recognizedText, setRecognizedText] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [gridSize, setGridSize] = useState(80); // 田字格大小\r\n\r\n  // ... 保留之前的 handleImageUpload 和其他函数 ...\r\n\r\n  const generateWorksheet = () => {\r\n    if (!recognizedText) return;\r\n\r\n    const container = document.createElement('div');\r\n    container.style.width = '210mm'; // A4 宽度\r\n    container.style.padding = '20px';\r\n    container.style.backgroundColor = 'white';\r\n\r\n    const characters = recognizedText.split('').filter(char => char.trim());\r\n    characters.forEach(char => {\r\n      const grid = document.createElement('div');\r\n      grid.style.width = `${gridSize}px`;\r\n      grid.style.height = `${gridSize}px`;\r\n      grid.style.border = '1px solid #ccc';\r\n      grid.style.display = 'inline-flex';\r\n      grid.style.justifyContent = 'center';\r\n      grid.style.alignItems = 'center';\r\n      grid.style.margin = '5px';\r\n      grid.style.position = 'relative';\r\n\r\n      // 添加米字格\r\n      const lines = [\r\n        'top: 50%; left: 0; right: 0;',\r\n        'left: 50%; top: 0; bottom: 0;',\r\n        'top: 0; left: 0; right: 0;',\r\n        'top: 0; left: 0; bottom: 0;',\r\n        'transform: rotate(45deg);',\r\n        'transform: rotate(-45deg);'\r\n      ];\r\n\r\n      lines.forEach(style => {\r\n        const line = document.createElement('div');\r\n        line.style.cssText = `\r\n          position: absolute;\r\n          border-top: 1px dashed #ddd;\r\n          ${style}\r\n        `;\r\n        grid.appendChild(line);\r\n      });\r\n\r\n      const charSpan = document.createElement('span');\r\n      charSpan.textContent = char;\r\n      charSpan.style.fontSize = '24px';\r\n      charSpan.style.color = '#999';\r\n      grid.appendChild(charSpan);\r\n\r\n      container.appendChild(grid);\r\n    });\r\n\r\n    document.body.appendChild(container);\r\n\r\n    html2canvas(container).then(canvas => {\r\n      const pdf = new jsPDF('p', 'mm', 'a4');\r\n      const imgData = canvas.toDataURL('image/png');\r\n      pdf.addImage(imgData, 'PNG', 0, 0, 210, 297);\r\n      pdf.save('练字帖.pdf');\r\n      document.body.removeChild(container);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 py-8 px-4\">\r\n      <h1 className=\"text-3xl font-bold text-center mb-8\">繁体字练字帖生成器</h1>\r\n      <div className=\"max-w-2xl mx-auto space-y-6\">\r\n        {/* ... 保留之前的上传和识别部分 ... */}\r\n        \r\n        {recognizedText && (\r\n          <div className=\"bg-white p-4 rounded-lg shadow\">\r\n            <h2 className=\"text-xl font-bold mb-2\">识别结果：</h2>\r\n            <textarea\r\n              className=\"w-full h-48 p-2 border rounded\"\r\n              value={recognizedText}\r\n              onChange={(e) => setRecognizedText(e.target.value)}\r\n              placeholder=\"识别结果将显示在这里...\"\r\n            />\r\n            <div className=\"mt-4 space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  田字格大小（像素）：\r\n                  <input\r\n                    type=\"number\"\r\n                    value={gridSize}\r\n                    onChange={(e) => setGridSize(Number(e.target.value))}\r\n                    className=\"ml-2 p-1 border rounded\"\r\n                    min=\"40\"\r\n                    max=\"120\"\r\n                  />\r\n                </label>\r\n              </div>\r\n              <div className=\"flex justify-end space-x-4\">\r\n                <button\r\n                  onClick={() => handleImageUpload({ target: { files: [document.querySelector('input[type=\"file\"]').files[0]] } })}\r\n                  className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\r\n                >\r\n                  重新识别\r\n                </button>\r\n                <button\r\n                  onClick={generateWorksheet}\r\n                  className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n                >\r\n                  生成练字帖\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}